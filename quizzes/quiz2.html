<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="HandheldFriendly" content="true">
 <title>ქვიზი:შეძლებ უპასუხო 10 შეკითხვას მეტალიკას შესახებ?</title>
 <link rel="stylesheet" type="text/css" href="style.css">
 <link rel="shortcut icon" href="../ico/qvz.ico">
 </head>
<body>
   <a href="../HTML/home.html"><div id="mainpage"><h1>მთავარი</h1></div></a>
     <div clss="quizContainer container-fluid well well-lg">
        <div id="quiz1" class="text-center">
    <h1 id="maintitle">შეძლებ უპასუხო 10 შეკითხვას მეტალიკას შესახებ?</h1>
            
    </div>  
 <div class="quiz-container">
    <div class="question-number">
       <h3>კითხვა <span class="question-num-value"></span> / <span class="total-question"></span></h3>
    </div>
    <div class="question">
      
    </div>
    <div class="options">
       <div id="1" class="option1" onclick="check(this)"></div>
       <div id="2" class="option2" onclick="check(this)"></div>
       <div id="3" class="option3" onclick="check(this)"></div>
       <div id="4" class="option4" onclick="check(this)"></div>
    </div>
    <div class="button">
       <button style="font-family:ALK Sanet, sans-serif;" type="button" class="btn" onclick="next()">შემდეგი</button>
    </div>
    <div class="answers-tracker">
       
    </div>
 </div>
 
 <div class="quiz-over">
   <div class="box">
     <h1>
       
      შენი შედეგია<br><span class="correct-answers"> </span>/<span class="total-question2">დან</span><br>
       <a href="quizzes.html"><h1 style="color:#009688;" id="others">ნახეთ სხვა ქვიზები</h1></a>
      <a href="https://www.donationalerts.com/r/metallica81" target="_blank"><img style="max-width: 50px" class="footer-img" src="../img/donate.png"></a>
<div id="share" class="a2a_kit a2a_kit_size_32 a2a_default_style" data-a2a-url="http://gtallica.ga/quizzes/song_quiz.html">
<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_email"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
     </h1>
     <button style="font-family:ALK Sanet, sans-serif;" type="button" onclick="tryAgain()">ცადეთ ხელახლა</button>
   </div>
 </div>
 <a href="quizzes.html"><h1 id="others">ნახეთ სხვა ქვიზები</h1></a>
 <script src="script.js"></script>
<script>
  
  const options=document.querySelector(".options").children;
  const answerTrackerContainer=document.querySelector(".answers-tracker");
  const questionNumberSpan=document.querySelector(".question-num-value");
  const totalQuestionSpan=document.querySelector(".total-question");
  const correctAnswerSpan=document.querySelector(".correct-answers");
  const totalQuestionSpan2=document.querySelector(".total-question2");
  const percentage=document.querySelector(".percentage");
  const question=document.querySelector(".question");
  const op1=document.querySelector(".option1");
  const op2=document.querySelector(".option2");
  const op3=document.querySelector(".option3");
  const op4=document.querySelector(".option4");
  let questionIndex;
  let index=0;
  let myArray=[];
  let myArr=[];
  let score=0;

   const questions=[
   {
    q:'რომელი სიმღერა შესრულდა ცოცხლად ყველაზე მეტჯერ?',
    options:['Enter Sandman','Nothing Else Matters','One','Master Of Puppets'],
    answer:4
   },
   {
    q:'რომელ ქვეყანაში ჩაიწერა Master Of Puppets?',
    options:['აშშ','დანია','ავსტრალია','გერმანია'],
    answer:2
   },
   {
    q:'ვისი პროდიუსერობით ჩაიწერა Ride The Lighting?',
    options:['რიკი რუბინი','ბობ როკი','ფლემინგ რასმუსენი','ტომი ალომი'],
    answer:3
   },
   {
    q:'მეტალიკას რომელი სიმღერა მოხვდა პირველად თამაშში Guitar Hero?',
    options:['Master Of Puppets','For Whom The Bell Tolls','One','Enter Sandman'],
    answer:2
   },
   {
    q:'რომელი სიმღერაა დამატებული ...And Justice For All იაპონურ ვერსიაში დამატებული?',
    options:['The Wait','The Prince','Dyers Eve','Breadfan'],
    answer:2
   },
    {
    q:'რომელი ალბომი მიეძღვნა კლიფ ბარტონს?',
    options:['Ozzy Osbourne "No Rest for the Wicked"','Anthrax "State of Euphoria"',' Metal Church "The Dark"','Megadeth "Rust in Peace"'],
    answer:3
   },
     {
    q:'პირველად რომელ წელს გამოჩნდა მეტალიკა Rolling Stones ჟურნალის გარეკანზე?',
    options:['1991','1989','1990','1988'],
    answer:1
   },
   {
    q:'1989 წელს, სამხრეთ კორეაში გამოიცა Master of Puppets ვინილი, რომელზედაც წაშლილი იქნა 3 სიმღერა და ჩანაცვლდა Breadfan და the Prince-თი, რომელი სამი სიმღერა იქნა წაშლილი ჩანაწერიდან?',
    options:['Welcome Home (Sanitarium), Disposable Heroes და Damage, Inc.','Welcome Home (Sanitarium), Disposable Heroes და Orion','Laper Messiah, Disposable Heroes და Damage, Inc.','Orion, Master Of Pyppets და Damage Inc.'],
    answer:1
   },
      {
    q:'ბიბლიის რომელი ისტორიაა აღწერილი სიმღერაში Creeping Death?',
    options:['კარგი სამარიტელი','ექსოდუსი','ნოეს კიდობანი','მსაჯულები'],
    answer:2
   },
   {
    q:'რომელი ფილმიდანაა აღებული ტექსტი "When a man lies he murders some part of the world"?',
    options:['ქსკალიბური','ვარდის სახელი', 'მისთვის, ვისთვისაც ზარები რეკს', 'დაცემული'],
    answer:1
   }
    ]

   

   // set questions and options and question number
  totalQuestionSpan.innerHTML=questions.length;
  function load(){
        questionNumberSpan.innerHTML=index+1;
         question.innerHTML=questions[questionIndex].q;     
         op1.innerHTML=questions[questionIndex].options[0];
         op2.innerHTML=questions[questionIndex].options[1];
         op3.innerHTML=questions[questionIndex].options[2];
         op4.innerHTML=questions[questionIndex].options[3];
         index++;
  }
  
  function check(element){
   if(element.id==questions[questionIndex].answer){
    element.classList.add("correct");
    updateAnswerTracker("correct")
    score++;
    console.log("score:"+score)
   }
   else{
    element.classList.add("wrong");
    updateAnswerTracker("wrong")

   }
   disabledOptions()
  }
   
  function disabledOptions(){
     for(let i=0; i<options.length; i++) {
      options[i].classList.add("disabled");
      if(options[i].id==questions[questionIndex].answer){
       options[i].classList.add("correct");
      }

     }
  }
  
  function enableOptions(){
     for(let i=0; i<options.length; i++) {
      options[i].classList.remove("disabled","correct","wrong");
     }
  }

  function validate(){
      if(!options[0].classList.contains("disabled")){
        alert("გთხოვთ მონიშნოთ პასუხი")
      }
      else{
       enableOptions();
       randomQuestion();
      }
  }

  function next(){
    validate();
  }
   
  function randomQuestion(){
   let randomNumber=Math.floor(Math.random()*questions.length);
   let hitDuplicate=0;
       if(index==questions.length){
        quizOver();
       }
       else{
         if(myArray.length>0){
             for(let i=0; i<myArray.length; i++){
               if(myArray[i]==randomNumber){
                  hitDuplicate=1;
                  break;
               }
             }
             if(hitDuplicate==1){
              randomQuestion();
             }
             else{
               questionIndex=randomNumber;   
              load();
              myArr.push(questionIndex);
             }
         }
         if(myArray.length==0){
           questionIndex=randomNumber;   
           load();
           myArr.push(questionIndex);
         }

       myArray.push(randomNumber);
       
      }
  }
      
  function answerTrakcer(){
     for(let i=0; i<questions.length; i++){
      const div=document.createElement("div")
         answerTrackerContainer.appendChild(div);
     }
  }

 function updateAnswerTracker(classNam){
   answerTrackerContainer.children[index-1].classList.add(classNam);
 }

 function quizOver(){
    document.querySelector(".quiz-over").classList.add("show");
    correctAnswerSpan.innerHTML=score;
    totalQuestionSpan2.innerHTML=questions.length;
    percentage.innerHTML=(score/questions.length)*100 + "%";
 }
 
 function tryAgain(){
     window.location.reload();
 }

 window.onload=function(){
  randomQuestion();
  answerTrakcer();
 
}

</script>

</body>
</html>
